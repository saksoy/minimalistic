!function(a){function b(b,c,d){if("object"!=typeof b&&(b={}),d){if("boolean"!=typeof b.isMenu){var e=d.children();b.isMenu=1==e.length&&e.is(c.panelNodetype)}return b}if("object"!=typeof b.onClick&&(b.onClick={}),"undefined"!=typeof b.onClick.setLocationHref&&(a[h].deprecated("onClick.setLocationHref option","!onClick.preventDefault"),"boolean"==typeof b.onClick.setLocationHref&&(b.onClick.preventDefault=!b.onClick.setLocationHref)),b=a.extend(!0,{},a[h].defaults,b),a[h].useOverflowScrollingFallback()){switch(b.position){case"top":case"right":case"bottom":a[h].debug('position: "'+b.position+'" not supported when using the overflowScrolling-fallback.'),b.position="left"}switch(b.zposition){case"front":case"next":a[h].debug('z-position: "'+b.zposition+'" not supported when using the overflowScrolling-fallback.'),b.zposition="back"}}return b}function c(b){return"object"!=typeof b&&(b={}),"undefined"!=typeof b.panelNodeType&&(a[h].deprecated("panelNodeType configuration option","panelNodetype"),b.panelNodetype=b.panelNodeType),b=a.extend(!0,{},a[h].configuration,b),"string"!=typeof b.pageSelector&&(b.pageSelector="> "+b.pageNodetype),b}function d(){j.$wndw=a(window),j.$html=a("html"),j.$body=a("body"),j.$allMenus=a(),a.each([k,m,l],function(a,b){b.add=function(a){a=a.split(" ");for(var c in a)b[a[c]]=b.mm(a[c])}}),k.mm=function(a){return"mm-"+a},k.add("menu ismenu panel list subtitle selected label spacer current highest hidden page blocker modal background opened opening subopened subopen fullsubopen subclose nooverflowscrolling"),k.umm=function(a){return"mm-"==a.slice(0,3)&&(a=a.slice(3)),a},m.mm=function(a){return"mm-"+a},m.add("parent style scrollTop offetLeft"),l.mm=function(a){return a+".mm"},l.add("toggle open opening opened close closing closed update setPage setSelected transitionend webkitTransitionEnd touchstart touchend mousedown mouseup click keydown keyup resize"),a[h]._c=k,a[h]._d=m,a[h]._e=l,a[h].glbl=j,a[h].useOverflowScrollingFallback(o)}function e(b,c){if(b.hasClass(k.current))return!1;var d=a("."+k.panel,c),e=d.filter("."+k.current);return d.removeClass(k.highest).removeClass(k.current).not(b).not(e).addClass(k.hidden),b.hasClass(k.opened)?e.addClass(k.highest).removeClass(k.opened).removeClass(k.subopened):(b.addClass(k.highest),e.addClass(k.subopened)),b.removeClass(k.hidden).removeClass(k.subopened).addClass(k.current).addClass(k.opened),"open"}function f(){return j.$scrollTopNode||(0!=j.$html.scrollTop()?j.$scrollTopNode=j.$html:0!=j.$body.scrollTop()&&(j.$scrollTopNode=j.$body)),j.$scrollTopNode?j.$scrollTopNode.scrollTop():0}function g(a,b,c){var d=!1,e=function(){d||b.call(a[0]),d=!0};a.one(l.transitionend,e),a.one(l.webkitTransitionEnd,e),setTimeout(e,1.1*c)}var h="mmenu",i="4.1.8";if(!a[h]){var j={$wndw:null,$html:null,$body:null,$page:null,$blck:null,$allMenus:null,$scrollTopNode:null},k={},l={},m={},n=0;a[h]=function(a,b,c){return j.$allMenus=j.$allMenus.add(a),this.$menu=a,this.opts=b,this.conf=c,this.serialnr=n++,this._init(),this},a[h].prototype={open:function(){return this._openSetup(),this._openFinish(),"open"},_openSetup:function(){var a=f();this.$menu.addClass(k.current),j.$allMenus.not(this.$menu).trigger(l.close),j.$page.data(m.style,j.$page.attr("style")||"").data(m.scrollTop,a).data(m.offetLeft,j.$page.offset().left);var b=0;j.$wndw.off(l.resize).on(l.resize,function(a,c){if(c||j.$html.hasClass(k.opened)){var d=j.$wndw.width();d!=b&&(b=d,j.$page.width(d-j.$page.data(m.offetLeft)))}}).trigger(l.resize,[!0]),this.conf.preventTabbing&&j.$wndw.off(l.keydown).on(l.keydown,function(a){return 9==a.keyCode?(a.preventDefault(),!1):void 0}),this.opts.modal&&j.$html.addClass(k.modal),this.opts.moveBackground&&j.$html.addClass(k.background),"left"!=this.opts.position&&j.$html.addClass(k.mm(this.opts.position)),"back"!=this.opts.zposition&&j.$html.addClass(k.mm(this.opts.zposition)),this.opts.classes&&j.$html.addClass(this.opts.classes),j.$html.addClass(k.opened),this.$menu.addClass(k.opened),j.$page.scrollTop(a),this.$menu.scrollTop(0)},_openFinish:function(){var a=this;g(j.$page,function(){a.$menu.trigger(l.opened)},this.conf.transitionDuration),j.$html.addClass(k.opening),this.$menu.trigger(l.opening),window.scrollTo(0,1)},close:function(){var a=this;return g(j.$page,function(){a.$menu.removeClass(k.current).removeClass(k.opened),j.$html.removeClass(k.opened).removeClass(k.modal).removeClass(k.background).removeClass(k.mm(a.opts.position)).removeClass(k.mm(a.opts.zposition)),a.opts.classes&&j.$html.removeClass(a.opts.classes),j.$wndw.off(l.resize).off(l.keydown),j.$page.attr("style",j.$page.data(m.style)),j.$scrollTopNode&&j.$scrollTopNode.scrollTop(j.$page.data(m.scrollTop)),a.$menu.trigger(l.closed)},this.conf.transitionDuration),j.$html.removeClass(k.opening),this.$menu.trigger(l.closing),"close"},_init:function(){if(this.opts=b(this.opts,this.conf,this.$menu),this.direction=this.opts.slidingSubmenus?"horizontal":"vertical",this._initPage(j.$page),this._initMenu(),this._initBlocker(),this._initPanles(),this._initLinks(),this._initOpenClose(),this._bindCustomEvents(),a[h].addons)for(var c=0;c<a[h].addons.length;c++)"function"==typeof this["_addon_"+a[h].addons[c]]&&this["_addon_"+a[h].addons[c]]()},_bindCustomEvents:function(){var b=this;this.$menu.off(l.open+" "+l.close+" "+l.setPage+" "+l.update).on(l.open+" "+l.close+" "+l.setPage+" "+l.update,function(a){a.stopPropagation()}),this.$menu.on(l.open,function(c){return a(this).hasClass(k.current)?(c.stopImmediatePropagation(),!1):b.open()}).on(l.close,function(c){return a(this).hasClass(k.current)?b.close():(c.stopImmediatePropagation(),!1)}).on(l.setPage,function(a,c){b._initPage(c),b._initOpenClose()});var c=this.$menu.find(this.opts.isMenu&&"horizontal"!=this.direction?"ul, ol":"."+k.panel);c.off(l.toggle+" "+l.open+" "+l.close).on(l.toggle+" "+l.open+" "+l.close,function(a){a.stopPropagation()}),"horizontal"==this.direction?c.on(l.open,function(){return e(a(this),b.$menu)}):c.on(l.toggle,function(){var b=a(this);return b.triggerHandler(b.parent().hasClass(k.opened)?l.close:l.open)}).on(l.open,function(){return a(this).parent().addClass(k.opened),"open"}).on(l.close,function(){return a(this).parent().removeClass(k.opened),"close"})},_initBlocker:function(){var b=this;j.$blck||(j.$blck=a('<div id="'+k.blocker+'" />').css("opacity",0).appendTo(j.$body)),j.$blck.off(l.touchstart).on(l.touchstart,function(a){a.preventDefault(),a.stopPropagation(),j.$blck.trigger(l.mousedown)}).on(l.mousedown,function(a){a.preventDefault(),j.$html.hasClass(k.modal)||b.$menu.trigger(l.close)})},_initPage:function(b){b||(b=a(this.conf.pageSelector,j.$body),b.length>1&&(a[h].debug("Multiple nodes found for the page-node, all nodes are wrapped in one <"+this.conf.pageNodetype+">."),b=b.wrapAll("<"+this.conf.pageNodetype+" />").parent())),b.addClass(k.page),j.$page=b},_initMenu:function(){this.conf.clone&&(this.$menu=this.$menu.clone(!0),this.$menu.add(this.$menu.find("*")).filter("[id]").each(function(){a(this).attr("id",k.mm(a(this).attr("id")))})),this.$menu.contents().each(function(){3==a(this)[0].nodeType&&a(this).remove()}),this.$menu.prependTo("body").addClass(k.menu),this.$menu.addClass(k.mm(this.direction)),this.opts.classes&&this.$menu.addClass(this.opts.classes),this.opts.isMenu&&this.$menu.addClass(k.ismenu),"left"!=this.opts.position&&this.$menu.addClass(k.mm(this.opts.position)),"back"!=this.opts.zposition&&this.$menu.addClass(k.mm(this.opts.zposition))},_initPanles:function(){var b=this;this.__refactorClass(a("."+this.conf.listClass,this.$menu),"list"),this.opts.isMenu&&a("ul, ol",this.$menu).not(".mm-nolist").addClass(k.list);var c=a("."+k.list+" > li",this.$menu);this.__refactorClass(c.filter("."+this.conf.selectedClass),"selected"),this.__refactorClass(c.filter("."+this.conf.labelClass),"label"),this.__refactorClass(c.filter("."+this.conf.spacerClass),"spacer"),c.off(l.setSelected).on(l.setSelected,function(b,d){b.stopPropagation(),c.removeClass(k.selected),"boolean"!=typeof d&&(d=!0),d&&a(this).addClass(k.selected)}),this.__refactorClass(a("."+this.conf.panelClass,this.$menu),"panel"),this.$menu.children().filter(this.conf.panelNodetype).add(this.$menu.find("."+k.list).children().children().filter(this.conf.panelNodetype)).addClass(k.panel);var d=a("."+k.panel,this.$menu);d.each(function(c){var d=a(this),e=d.attr("id")||k.mm("m"+b.serialnr+"-p"+c);d.attr("id",e)}),d.find("."+k.panel).each(function(){var c=a(this),d=c.is("ul, ol")?c:c.find("ul ,ol").first(),e=c.parent(),f=e.find("> a, > span"),g=e.closest("."+k.panel);if(c.data(m.parent,e),e.parent().is("."+k.list)){var h=a('<a class="'+k.subopen+'" href="#'+c.attr("id")+'" />').insertBefore(f);f.is("a")||h.addClass(k.fullsubopen),"horizontal"==b.direction&&d.prepend('<li class="'+k.subtitle+'"><a class="'+k.subclose+'" href="#'+g.attr("id")+'">'+f.text()+"</a></li>")}});var e="horizontal"==this.direction?l.open:l.toggle;if(d.each(function(){var c=a(this),d=c.attr("id");a('a[href="#'+d+'"]',b.$menu).off(l.click).on(l.click,function(a){a.preventDefault(),c.trigger(e)})}),"horizontal"==this.direction){var f=a("."+k.list+" > li."+k.selected,this.$menu);f.add(f.parents("li")).parents("li").removeClass(k.selected).end().each(function(){var b=a(this),c=b.find("> ."+k.panel);c.length&&(b.parents("."+k.panel).addClass(k.subopened),c.addClass(k.opened))}).closest("."+k.panel).addClass(k.opened).parents("."+k.panel).addClass(k.subopened)}else a("li."+k.selected,this.$menu).addClass(k.opened).parents("."+k.selected).removeClass(k.selected);var g=d.filter("."+k.opened);g.length||(g=d.first()),g.addClass(k.opened).last().addClass(k.current),"horizontal"==this.direction&&d.find("."+k.panel).appendTo(this.$menu)},_initLinks:function(){var b=this;a("."+k.list+" > li > a",this.$menu).not("."+k.subopen).not("."+k.subclose).not('[rel="external"]').not('[target="_blank"]').off(l.click).on(l.click,function(c){var d=a(this),e=d.attr("href");b.__valueOrFn(b.opts.onClick.setSelected,d)&&d.parent().trigger(l.setSelected);var f=b.__valueOrFn(b.opts.onClick.preventDefault,d,"#"==e.slice(0,1));f&&c.preventDefault(),b.__valueOrFn(b.opts.onClick.blockUI,d,!f)&&j.$html.addClass(k.blocking),b.__valueOrFn(b.opts.onClick.close,d,f)&&b.$menu.triggerHandler(l.close)})},_initOpenClose:function(){var b=this,c=this.$menu.attr("id");c&&c.length&&(this.conf.clone&&(c=k.umm(c)),a('a[href="#'+c+'"]').off(l.click).on(l.click,function(a){a.preventDefault(),b.$menu.trigger(l.open)}));var c=j.$page.attr("id");c&&c.length&&a('a[href="#'+c+'"]').off(l.click).on(l.click,function(a){a.preventDefault(),b.$menu.trigger(l.close)})},__valueOrFn:function(a,b,c){return"function"==typeof a?a.call(b[0]):"undefined"==typeof a&&"undefined"!=typeof c?c:a},__refactorClass:function(a,b){a.removeClass(this.conf[b+"Class"]).addClass(k[b])}},a.fn[h]=function(e,f){return j.$wndw||d(),e=b(e,f),f=c(f),this.each(function(){var b=a(this);b.data(h)||b.data(h,new a[h](b,e,f))})},a[h].version=i,a[h].defaults={position:"left",zposition:"back",moveBackground:!0,slidingSubmenus:!0,modal:!1,classes:"",onClick:{setSelected:!0}},a[h].configuration={preventTabbing:!0,panelClass:"Panel",listClass:"List",selectedClass:"Selected",labelClass:"Label",spacerClass:"Spacer",pageNodetype:"div",panelNodetype:"ul, ol, div",transitionDuration:400},function(){var b=window.document,c=window.navigator.userAgent,d=(document.createElement("div").style,"ontouchstart"in b),e="WebkitOverflowScrolling"in b.documentElement.style,f=function(){return c.indexOf("Android")>=0?2.4>parseFloat(c.slice(c.indexOf("Android")+8)):!1}();a[h].support={touch:d,oldAndroidBrowser:f,overflowscrolling:function(){return d?e?!0:f?!1:!0:!0}()}}(),a[h].useOverflowScrollingFallback=function(a){return j.$html?("boolean"==typeof a&&j.$html[a?"addClass":"removeClass"](k.nooverflowscrolling),j.$html.hasClass(k.nooverflowscrolling)):(o=a,a)},a[h].debug=function(){},a[h].deprecated=function(a,b){"undefined"!=typeof console&&"undefined"!=typeof console.warn&&console.warn("MMENU: "+a+" is deprecated, use "+b+" instead.")};var o=!a[h].support.overflowscrolling}}(jQuery);